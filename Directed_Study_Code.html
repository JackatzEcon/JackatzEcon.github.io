<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jack Katz">

<title>Jack Katz - Directed Study Data Cleaning and Regression Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Jack Katz</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./project.html" rel="" target="">
 <span class="menu-text">Project</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./blog-listing.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-python-data-analysis" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Python Data Analysis</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-python-data-analysis">    
        <li>
    <a class="dropdown-item" href="./basic_python_intro_(2).html" rel="" target="">
 <span class="dropdown-text">Introduction to Python</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./danl-210-quarto-py-only.html" rel="" target="">
 <span class="dropdown-text">DANL 210: Data Preparation and Management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./danl-210-quarto-reticulate.html" rel="" target="">
 <span class="dropdown-text">DANL 210: Data Preparation and Management</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<div class="quarto-about-trestles">
  <div class="about-entity">
<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Directed Study Data Cleaning and Regression Analysis</h1>
</div>
<div class="quarto-title-meta">
    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jack Katz </p>
          </div>
  </div>
  </div>
</header>
  </div>
  <div class="about-contents"><main class="content" id="quarto-document-content">
<section id="have-the-returns-to-english-proficiency-decreased-for-immigrants-to-the-united-states" class="level1">
<h1>Have the Returns to English Proficiency Decreased for Immigrants to the United States?</h1>
<p>Below is the abstract and r code for current economic research I am conducting on returns to English proficiency for Spanish-speaking immigrants and determinants of English proficiency for Spanish speaking immigrants.The code starts with retrieving the data from Integrated Public Use Microdata Series (IPUMS.org), cleaning the data, creating new variables, performing econometric analysis and using stargazer to create charts to dispaly the findings. The current iteration of the paper can be found on the home page under “Economic Research”. I presented these findings at the March 2024 Eastern Economic Conference in Boston.</p>
<section id="abstract" class="level2">
<h2 data-anchor-id="abstract">Abstract</h2>
<p>New immigrants need to be successfully economically and socially integrated if they are to bring positive economic effects. One important piece of integration into a new society is language proficiency. As the U.S. economy increasingly relies on immigrant labor, it will become even more important to understand the returns to speaking English as an immigrant as well as and the determinants of English proficiency among immigrants. I focus specifically on the return to learning English as a Spanish speaker. As the U.S. becomes a more Spanish-speaker accessible country, as more government and other agencies are offering forms in Spanish, as well as broader use of Spanish and Spanish media in American culture, the incentive to learn English may be decreasing for Spanish immigrants.<br>
</p>
<p>This paper hypothesizes that the return to learning English has decreased over the years, both because the United States has become a more Spanish-friendly country and because the number of Spanish speakers has increased in the country over time. I analyze data from the American Community Survey (ACS) from 1980-2019. I first consider the determinants of English proficiency. I then use an instrumental variables approach to consider the effect of English proficiency on income, the return to proficiency.<br>
</p>
<p>While I find no significant change in returns to English proficiency from decade to decade, there is a significant decrease between the 1980 sample and the 2019 sample. The results also show a significant reduction in the income gap between female and male Hispanic immigrants.</p>
</section>
<section id="loading-in-data" class="level2">
<h2 data-anchor-id="loading-in-data">Loading in Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ipumsr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>ddi <span class="ot">&lt;-</span> <span class="fu">read_ipums_ddi</span>(<span class="st">"usa_00018.xml"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_ipums_micro</span>(ddi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Use of data from IPUMS USA is subject to conditions including that users should cite the data appropriately. Use command `ipums_conditions()` for more details.</code></pre>
</div>
</div>
</section>
<section id="creating-new-variables" class="level2">
<h2 data-anchor-id="creating-new-variables">Creating New Variables</h2>
<p>In this section I recode the English proficiency variable, create a categorical education variable, create a variable to measure the age at arrival for all immigrants, and adjust the income variable for inflation and convert it to log values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creating-samples" class="level2">
<h2 data-anchor-id="creating-samples">Creating Samples</h2>
<section id="sample" class="level3">
<h3 data-anchor-id="sample">1980 Sample</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.4     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 1980 --------------------------------------------------------------------</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: car
Loading required package: carData
Attaching package: 'car'
The following object is masked from 'package:dplyr':
    recode
The following object is masked from 'package:purrr':
    some
Loading required package: lmtest
Loading required package: zoo
Attaching package: 'zoo'
The following objects are masked from 'package:base':
    as.Date, as.Date.numeric
Loading required package: sandwich
Loading required package: survival</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Cities_1980 <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YEAR <span class="sc">==</span> <span class="dv">1980</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">18</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YRIMMIG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1950</span><span class="sc">:</span><span class="dv">1964</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hispanic_Origin =</span> <span class="fu">ifelse</span>(HISPAN <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Middle =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">High_School =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">College =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Graduate_Degree =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Graduate_Degree"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Gender =</span> <span class="fu">ifelse</span>(SEX <span class="sc">==</span> <span class="dv">2</span> , <span class="dv">1</span> , <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Origin <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Citizenship_Status =</span> <span class="fu">ifelse</span>(CITIZEN <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Graduate_Degree <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ELDCH <span class="sc">!=</span> <span class="dv">99</span> <span class="sc">|</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>           YNGCH<span class="sc">!=</span> <span class="dv">99</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">36</span>, <span class="dv">48</span>, <span class="dv">34</span>) <span class="sc">|</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">37</span>, <span class="dv">86</span>, <span class="dv">73</span>, <span class="dv">81</span>, <span class="dv">215</span>, <span class="dv">59</span>, <span class="dv">85</span>, <span class="dv">19</span>, <span class="dv">47</span>, <span class="dv">17</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">YSM =</span> (AGE <span class="sc">-</span> AAA)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">|</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience_Squared =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, ((AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, ((AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, ((AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, ((AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Years_Education =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, <span class="dv">5</span>, </span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">8</span>,</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">12</span>,</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>                                                <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">16</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Education_Dummy =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Elementary"</span>, <span class="st">"Middle"</span>), <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(INCTOT <span class="sc">!=</span> <span class="dv">9999999</span> <span class="sc">|</span> INCTOT <span class="sc">!=</span> <span class="dv">9999998</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ELDCH <span class="sc">!=</span> <span class="dv">99</span> <span class="sc">|</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>           YNGCH <span class="sc">!=</span> <span class="dv">99</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hispanic_Population =</span> </span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span>, <span class="fl">27.6</span>, </span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">86</span>, <span class="fl">35.7</span>, </span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">73</span>, <span class="fl">14.8</span>,</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">81</span>, <span class="fl">13.9</span>,</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">215</span>, <span class="fl">81.3</span>, </span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>                                                   </span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span>, <span class="fl">14.8</span>,</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>                                                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">85</span>, <span class="fl">17.5</span>,</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">19</span>, <span class="fl">29.3</span>,</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>                                                                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">57</span>, <span class="fl">17.6</span>,</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>                                                                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">17</span>, <span class="fl">26.1</span>, <span class="dv">0</span>))))))))))) <span class="sc">%&gt;%</span> </span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Population <span class="sc">!=</span> <span class="dv">0</span>)</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(<span class="fu">head</span>(Cities_1980, <span class="dv">100</span>))</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a><span class="co"># OLS Regression on Log Wages</span></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>OLS1980 <span class="ot">&lt;-</span> <span class="fu">lm</span>(LogWages <span class="sc">~</span> AGE <span class="sc">+</span> Gender  <span class="sc">+</span>  SPEAKENG_new <span class="sc">+</span> Citizenship_Status <span class="sc">+</span> Experience_Squared , <span class="at">data =</span> Cities_1980)</span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(OLS1980)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = LogWages ~ AGE + Gender + SPEAKENG_new + Citizenship_Status + 
    Experience_Squared, data = Cities_1980)
Residuals:
    Min      1Q  Median      3Q     Max 
-6.9014 -0.3299  0.1692  0.5495  1.9816 
Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         9.186201   0.308223  29.804  &lt; 2e-16 ***
AGE                 0.054796   0.009766   5.611 2.68e-08 ***
Gender             -0.966164   0.060255 -16.035  &lt; 2e-16 ***
SPEAKENG_new       -0.138774   0.039882  -3.480 0.000526 ***
Citizenship_Status  0.038659   0.062648   0.617 0.537336    
Experience_Squared -0.104708   0.021019  -4.982 7.56e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.8977 on 904 degrees of freedom
Multiple R-squared:  0.2822,    Adjusted R-squared:  0.2782 
F-statistic: 71.09 on 5 and 904 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#OLS Regression on SPEAKEN_eng</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>ENG1980 <span class="ot">&lt;-</span> <span class="fu">lm</span>(SPEAKENG_new <span class="sc">~</span> AAA  <span class="sc">+</span> ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                Hispanic_Population <span class="sc">+</span> Years_Education,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> Cities_1980)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ENG1980)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = SPEAKENG_new ~ AAA + ELDCH + YNGCH + Hispanic_Population + 
    Years_Education, data = Cities_1980)
Residuals:
    Min      1Q  Median      3Q     Max 
-2.2925 -0.4762 -0.0577  0.4248  2.8313 
Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          3.573438   0.132603  26.948  &lt; 2e-16 ***
AAA                  0.029550   0.005313   5.561 3.52e-08 ***
ELDCH                0.021850   0.005949   3.673 0.000254 ***
YNGCH               -0.021568   0.006347  -3.398 0.000708 ***
Hispanic_Population  0.005802   0.001840   3.154 0.001665 ** 
Years_Education     -0.127407   0.007262 -17.545  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.7129 on 904 degrees of freedom
Multiple R-squared:  0.3532,    Adjusted R-squared:  0.3496 
F-statistic: 98.72 on 5 and 904 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>English1980 <span class="ot">&lt;-</span> <span class="fu">predict</span>(ENG1980)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>English1980</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1        2        3        4        5        6        7        8 
2.826605 3.099828 2.799153 3.643958 2.392700 3.436822 2.670706 3.350664 
       9       10       11       12       13       14       15       16 
3.415485 2.870141 2.962242 2.663352 2.636064 3.211926 2.285201 1.871242 
      17       18       19       20       21       22       23       24 
3.124406 3.248209 2.328931 3.270625 2.201898 2.967561 2.581553 3.786320 
      25       26       27       28       29       30       31       32 
2.463352 2.522452 3.213622 1.955422 3.091343 3.094290 3.474411 2.558453 
      33       34       35       36       37       38       39       40 
2.446820 2.285083 2.234395 1.769855 2.948235 3.266548 2.753224 3.584838 
      41       42       43       44       45       46       47       48 
3.192263 2.536299 2.088548 2.333187 3.493531 2.487107 3.170695 2.509641 
      49       50       51       52       53       54       55       56 
1.882945 3.378553 3.020845 2.151443 2.555887 2.212068 2.630388 2.153423 
      57       58       59       60       61       62       63       64 
2.218125 2.639100 2.510772 2.775075 2.215551 2.728993 2.627724 2.794262 
      65       66       67       68       69       70       71       72 
2.811477 2.818210 3.316229 1.792880 2.453533 2.111365 2.816091 2.790757 
      73       74       75       76       77       78       79       80 
2.336720 2.043315 2.446234 2.556735 2.818210 3.013428 1.646542 3.657971 
      81       82       83       84       85       86       87       88 
2.729394 2.955011 1.916567 2.307620 2.985706 2.610812 2.606789 3.557735 
      89       90       91       92       93       94       95       96 
3.070452 2.233985 1.946419 2.738009 2.308010 2.554473 2.406721 2.004823 
      97       98       99      100      101      102      103      104 
2.542585 2.739922 2.338506 1.904960 2.543716 2.543716 2.274251 2.305637 
     105      106      107      108      109      110      111      112 
2.783340 3.391690 2.675212 2.125769 2.575529 2.598621 2.490217 2.559521 
     113      114      115      116      117      118      119      120 
3.239194 2.871555 3.277130 2.550579 2.657687 2.990129 3.503451 2.435553 
     121      122      123      124      125      126      127      128 
2.020061 2.650881 2.755423 3.073908 3.367477 2.787658 3.142681 2.839907 
     129      130      131      132      133      134      135      136 
3.513413 3.409035 3.255115 3.410613 2.303484 3.213276 3.531358 3.763684 
     137      138      139      140      141      142      143      144 
1.823125 2.512599 2.275258 3.449551 3.608687 2.300858 3.573682 2.542068 
     145      146      147      148      149      150      151      152 
3.440482 3.731224 2.616962 2.460543 3.279548 3.094426 2.009460 3.275306 
     153      154      155      156      157      158      159      160 
2.328876 1.867429 2.892967 3.489392 3.194803 2.307874 2.472558 2.080567 
     161      162      163      164      165      166      167      168 
2.169354 1.798649 2.720755 2.303997 2.659138 2.746257 2.716707 3.654343 
     169      170      171      172      173      174      175      176 
2.468927 1.874281 3.760209 3.259788 3.389083 2.174820 3.284302 2.265140 
     177      178      179      180      181      182      183      184 
2.197746 2.640972 2.324020 2.212863 2.442787 2.127724 2.504150 1.844509 
     185      186      187      188      189      190      191      192 
2.772877 2.293621 3.510402 1.726591 3.569220 3.322738 2.621094 2.441090 
     193      194      195      196      197      198      199      200 
2.323737 3.301178 2.749494 2.827106 2.674035 3.059284 2.829761 3.153545 
     201      202      203      204      205      206      207      208 
2.844195 2.981680 2.293621 2.554985 2.286114 2.764493 2.721641 1.975164 
     209      210      211      212      213      214      215      216 
2.621503 2.362312 2.109496 2.721358 2.235086 3.655380 2.624842 3.379018 
     217      218      219      220      221      222      223      224 
3.394866 3.085613 2.646975 3.134633 3.516852 2.614926 3.098750 2.381989 
     225      226      227      228      229      230      231      232 
2.234237 2.329904 3.326486 2.806104 2.198548 2.555543 1.843378 2.626421 
     233      234      235      236      237      238      239      240 
2.969108 3.633812 2.926395 3.451702 2.109331 3.337014 3.583535 2.510592 
     241      242      243      244      245      246      247      248 
2.279946 3.574994 3.568371 3.494438 2.344338 2.853964 2.653598 2.287646 
     249      250      251      252      253      254      255      256 
1.727439 3.285614 3.195713 3.089801 2.021410 2.198713 3.722455 2.587592 
     257      258      259      260      261      262      263      264 
2.957166 2.012579 2.476296 1.905024 3.044568 2.236528 3.060250 2.744339 
     265      266      267      268      269      270      271      272 
3.372167 2.551190 2.035114 2.229230 2.889710 2.293338 2.280483 3.194983 
     273      274      275      276      277      278      279      280 
2.168031 2.906614 1.997298 2.456654 3.694273 2.974427 2.315353 2.412269 
     281      282      283      284      285      286      287      288 
2.412269 2.840408 1.813262 3.136047 2.169563 2.213429 3.172329 3.387731 
     289      290      291      292      293      294      295      296 
2.994699 3.694273 3.053116 2.750625 1.902361 3.293879 2.368569 2.604972 
     297      298      299      300      301      302      303      304 
2.264070 2.841978 2.213028 3.393167 2.474055 2.743609 2.715072 2.650369 
     305      306      307      308      309      310      311      312 
2.323171 2.296166 2.323454 2.981397 2.324020 3.128866 1.911192 3.101460 
     313      314      315      316      317      318      319      320 
3.442472 2.712809 1.812296 2.980549 2.648672 2.293621 1.754162 2.698093 
     321      322      323      324      325      326      327      328 
2.035396 1.858094 1.873093 3.292465 2.714679 2.654675 2.770550 2.816578 
     329      330      331      332      333      334      335      336 
2.870524 3.833239 2.519431 2.663106 2.153479 3.333502 2.677657 3.084929 
     337      338      339      340      341      342      343      344 
1.932759 2.622068 3.130846 2.350935 3.251420 3.247232 3.119068 3.533219 
     345      346      347      348      349      350      351      352 
3.032798 2.066078 2.056116 1.937914 2.502736 2.532286 2.535225 2.323737 
     353      354      355      356      357      358      359      360 
2.168715 1.879945 2.735627 1.841846 3.208285 2.536757 2.316037 3.458437 
     361      362      363      364      365      366      367      368 
3.449323 2.803723 2.685521 2.535983 2.417782 3.795424 2.804124 3.305484 
     369      370      371      372      373      374      375      376 
2.293220 2.612270 3.204261 3.513631 3.242196 3.762652 2.324302 2.677374 
     377      378      379      380      381      382      383      384 
3.186599 2.588322 2.665769 2.049948 2.950225 2.920675 2.294752 2.505564 
     385      386      387      388      389      390      391      392 
2.338764 2.640972 2.785384 2.611422 2.308648 2.782438 1.815525 3.384620 
     393      394      395      396      397      398      399      400 
3.414171 3.631826 3.395423 2.853992 2.489315 2.647942 2.331036 2.516202 
     401      402      403      404      405      406      407      408 
3.538422 2.521357 3.584337 3.285614 3.166467 2.543891 2.630892 3.103841 
     409      410      411      412      413      414      415      416 
2.535507 1.966781 2.264636 3.041064 3.735081 2.209634 2.914478 3.252670 
     417      418      419      420      421      422      423      424 
3.313750 2.500190 2.805255 2.739295 3.084764 2.516038 3.761521 3.473719 
     425      426      427      428      429      430      431      432 
1.991413 1.855996 2.702171 1.950815 1.754162 3.423850 3.112217 3.666136 
     433      434      435      436      437      438      439      440 
2.269984 2.772877 2.499507 2.263788 2.621785 3.640255 2.763243 2.293338 
     441      442      443      444      445      446      447      448 
3.710284 3.680734 2.264070 2.530024 2.507206 2.613237 2.832797 2.323171 
     449      450      451      452      453      454      455      456 
2.823594 1.900664 2.442504 2.880596 2.384251 2.469391 2.682300 3.074476 
     457      458      459      460      461      462      463      464 
2.413236 1.961179 3.117426 2.947397 2.663507 3.159831 2.650487 3.247350 
     465      466      467      468      469      470      471      472 
3.299363 2.443069 2.726960 2.622917 2.543207 2.713375 2.733410 2.822061 
     473      474      475      476      477      478      479      480 
3.576125 2.603840 3.275533 1.769160 3.675698 2.661856 3.621186 3.502702 
     481      482      483      484      485      486      487      488 
3.463756 3.522857 2.846575 3.155916 3.306497 3.847508 3.465289 2.640407 
     489      490      491      492      493      494      495      496 
3.120482 2.523337 3.222325 2.907938 2.548416 2.300071 2.111877 2.444766 
     497      498      499      500      501      502      503      504 
2.386370 2.925547 3.201032 2.699225 2.647706 2.682858 2.262001 2.744740 
     505      506      507      508      509      510      511      512 
2.736876 3.430018 1.878813 2.618556 2.235368 3.195430 4.000461 3.342899 
     513      514      515      516      517      518      519      520 
2.108648 2.388722 2.588841 2.602472 2.324302 2.013993 2.252777 2.137797 
     521      522      523      524      525      526      527      528 
4.050211 2.265202 2.193959 2.789855 2.774008 3.383772 3.912494 3.593615 
     529      530      531      532      533      534      535      536 
2.737606 2.811140 2.781590 2.711851 2.677657 2.214113 2.797668 2.636457 
     537      538      539      540      541      542      543      544 
2.565862 1.814514 2.750062 2.196542 2.947235 3.170708 3.142453 3.411233 
     545      546      547      548      549      550      551      552 
3.788811 1.739000 2.571181 3.121287 1.967585 2.127963 2.558280 3.318223 
     553      554      555      556      557      558      559      560 
2.711799 1.711147 2.712930 2.919664 2.552725 1.970130 3.048483 3.162888 
     561      562      563      564      565      566      567      568 
2.148399 2.138884 2.380978 2.993971 3.033788 3.567078 2.456610 2.722610 
     569      570      571      572      573      574      575      576 
3.602396 3.065580 2.559576 2.758729 2.093204 3.348174 3.259523 3.056466 
     577      578      579      580      581      582      583      584 
2.632544 1.827652 2.233792 2.145736 1.921393 2.014232 2.486726 2.387712 
     585      586      587      588      589      590      591      592 
1.746865 3.274075 2.041237 3.111607 3.099884 3.688673 3.010950 2.626660 
     593      594      595      596      597      598      599      600 
3.000311 2.468380 2.236337 2.186773 3.680973 3.303060 1.832852 1.681879 
     601      602      603      604      605      606      607      608 
2.250606 2.374410 3.623003 3.645538 3.261786 2.070788 2.705631 3.602403 
     609      610      611      612      613      614      615      616 
3.131249 3.072148 3.327455 2.640527 3.398609 2.270670 2.576390 3.374377 
     617      618      619      620      621      622      623      624 
2.196542 3.083589 2.219359 2.722885 1.887035 2.279025 2.190374 2.744460 
     625      626      627      628      629      630      631      632 
3.628724 3.368210 2.337278 3.562206 1.889863 3.114317 2.461135 3.648595 
     633      634      635      636      637      638      639      640 
3.648595 2.739821 1.939445 2.658304 2.688986 2.475966 2.940781 2.894113 
     641      642      643      644      645      646      647      648 
2.244911 2.726236 3.453182 2.489498 2.051308 2.490063 2.399909 2.578714 
     649      650      651      652      653      654      655      656 
2.573842 2.460230 2.665668 2.902683 2.310781 2.310781 3.467332 2.422296 
     657      658      659      660      661      662      663      664 
3.626459 3.338893 2.580411 2.547750 2.122469 3.309508 2.918083 2.728163 
     665      666      667      668      669      670      671      672 
2.648736 2.549164 3.052808 2.786698 2.609396 3.211349 2.738920 2.705911 
     673      674      675      676      677      678      679      680 
2.705911 1.979023 2.518199 3.237789 2.400564 2.371013 1.830706 2.575768 
     681      682      683      684      685      686      687      688 
2.007041 2.357622 2.383496 2.023007 2.072199 2.320207 2.547750 2.729011 
     689      690      691      692      693      694      695      696 
2.783587 2.742030 2.830681 3.046923 2.791452 2.340615 2.340615 3.103643 
     697      698      699      700      701      702      703      704 
2.767220 2.832944 2.714742 1.981286 3.382476 2.792300 3.047206 3.387348 
     705      706      707      708      709      710      711      712 
2.150605 2.009705 3.241465 2.172738 2.547184 2.374263 2.404097 2.311064 
     713      714      715      716      717      718      719      720 
2.347377 2.842852 2.210554 2.763315 2.799316 2.755734 3.295074 2.365605 
     721      722      723      724      725      726      727      728 
2.336054 2.163058 2.163058 2.688933 2.271745 2.501833 2.451964 2.835600 
     729      730      731      732      733      734      735      736 
3.125776 2.519048 2.276105 3.072375 2.008856 2.542312 2.067109 2.095975 
     737      738      739      740      741      742      743      744 
2.202288 1.847119 2.895667 2.121903 2.052274 2.794845 2.706194 2.385357 
     745      746      747      748      749      750      751      752 
2.821850 2.298074 2.209706 2.127058 2.681680 2.918083 2.942589 2.431245 
     753      754      755      756      757      758      759      760 
2.401695 2.097225 2.294845 2.176643 2.858982 2.260705 2.310781 3.155588 
     761      762      763      764      765      766      767      768 
2.341775 2.041235 1.949473 1.860822 2.705063 2.823264 1.889806 2.312224 
     769      770      771      772      773      774      775      776 
1.891503 2.764164 2.781371 2.840472 2.333108 2.067674 1.963340 1.904240 
     777      778      779      780      781      782      783      784 
2.669062 2.639512 2.609113 2.550012 2.511065 1.922468 2.389663 1.949473 
     785      786      787      788      789      790      791      792 
2.038124 2.609961 2.639512 2.451116 2.340897 1.992891 2.315335 2.690064 
     793      794      795      796      797      798      799      800 
2.601413 2.772429 2.282957 1.987453 2.067109 2.096659 1.801155 2.310781 
     801      802      803      804      805      806      807      808 
2.303676 2.554483 2.833903 2.121055 2.662776 2.667648 2.209304 2.541628 
     809      810      811      812      813      814      815      816 
2.776900 2.639512 2.805290 1.978458 2.669062 2.584316 2.341209 2.791734 
     817      818      819      820      821      822      823      824 
1.889806 2.547184 2.296660 2.616412 2.586861 2.791452 2.606331 2.250743 
     825      826      827      828      829      830      831      832 
2.546783 2.428582 2.828136 2.382812 2.399715 1.830989 2.251427 2.111375 
     833      834      835      836      837      838      839      840 
2.037841 2.725900 2.696350 2.133225 2.456911 2.205793 2.200026 2.068240 
     841      842      843      844      845      846      847      848 
2.577300 2.187572 2.341463 2.966820 2.008008 2.669062 2.550861 3.345061 
     849      850      851      852      853      854      855      856 
1.992891 2.068240 3.270278 1.837156 2.577017 2.386889 2.772712 2.518199 
     857      858      859      860      861      862      863      864 
1.905088 2.733765 2.218820 3.147441 2.319212 3.384008 2.755050 2.725499 
     865      866      867      868      869      870      871      872 
2.117260 2.420033 2.009304 2.865834 2.156608 3.077486 3.268470 3.120719 
     873      874      875      876      877      878      879      880 
1.852958 3.693107 4.016517 3.241430 3.981074 2.242049 3.928832 2.829569 
     881      882      883      884      885      886      887      888 
2.605455 2.235480 2.867094 3.911854 3.598853 3.571119 3.541569 3.931771 
     889      890      891      892      893      894      895      896 
3.392686 3.312419 2.802793 3.467750 3.614820 3.936815 3.525045 3.542983 
     897      898      899      900      901      902      903      904 
3.806271 2.094297 4.022520 3.937656 3.885414 2.794720 3.797329 3.413695 
     905      906      907      908      909      910 
4.029089 2.930391 3.583855 3.813122 4.028688 2.956438 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># IV Regression 1980</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>iv1980 <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(LogWages <span class="sc">~</span>  SPEAKENG_new <span class="sc">+</span> Experience_Squared  <span class="sc">+</span> Gender  <span class="sc">|</span>    Experience_Squared   <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>                  Gender <span class="sc">+</span> AAA <span class="sc">+</span> Hispanic_Population <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>                  ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> Years_Education , <span class="at">data =</span> Cities_1980)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iv1980)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
ivreg(formula = LogWages ~ SPEAKENG_new + Experience_Squared + 
    Gender | Experience_Squared + Gender + AAA + Hispanic_Population + 
    ELDCH + YNGCH + Years_Education, data = Cities_1980)
Residuals:
    Min      1Q  Median      3Q     Max 
-6.1518 -0.4208  0.1368  0.5918  2.7804 
Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)        11.82506    0.20959  56.421  &lt; 2e-16 ***
SPEAKENG_new       -0.64873    0.09515  -6.818 1.68e-11 ***
Experience_Squared  0.05318    0.01501   3.542 0.000417 ***
Gender             -0.91953    0.06671 -13.784  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.9782 on 906 degrees of freedom
Multiple R-Squared: 0.1457, Adjusted R-squared: 0.1429 
Wald test:  97.2 on 3 and 906 DF,  p-value: &lt; 2.2e-16 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>Education1980 <span class="ot">&lt;-</span> <span class="fu">lm</span>(LogWages <span class="sc">~</span> Years_Education <span class="sc">+</span> Experience <span class="sc">+</span> Experience_Squared <span class="sc">+</span> AGE <span class="sc">+</span> Gender, <span class="at">data =</span> Cities_1980)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Education1980)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = LogWages ~ Years_Education + Experience + Experience_Squared + 
    AGE + Gender, data = Cities_1980)
Residuals:
    Min      1Q  Median      3Q     Max 
-7.0296 -0.2925  0.1588  0.5471  2.0473 
Coefficients: (1 not defined because of singularities)
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         8.97043    0.22179  40.445  &lt; 2e-16 ***
Years_Education     0.08584    0.01136   7.553 1.04e-13 ***
Experience          0.02766    0.01542   1.793   0.0733 .  
Experience_Squared -0.03554    0.03910  -0.909   0.3636    
AGE                      NA         NA      NA       NA    
Gender             -0.97887    0.06013 -16.279  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.8992 on 905 degrees of freedom
Multiple R-squared:  0.2789,    Adjusted R-squared:  0.2757 
F-statistic: 87.51 on 4 and 905 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Used_variables <span class="ot">&lt;-</span> Cities_1980 <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(AGE, SPEAKENG_new, Experience_Squared, Experience, AAA, Years_Education)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(Used_variables, <span class="at">use=</span><span class="st">"complete.obs"</span>, <span class="at">method=</span><span class="st">"pearson"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                          AGE SPEAKENG_new Experience_Squared Experience
AGE                 1.0000000    0.2763966          0.8771535  0.9187336
SPEAKENG_new        0.2763966    1.0000000          0.4502289  0.4496153
Experience_Squared  0.8771535    0.4502289          1.0000000  0.9728432
Experience          0.9187336    0.4496153          0.9728432  1.0000000
AAA                 0.6795759    0.2758524          0.5686798  0.6247809
Years_Education    -0.2643848   -0.5509890         -0.6397067 -0.6237263
                          AAA Years_Education
AGE                 0.6795759      -0.2643848
SPEAKENG_new        0.2758524      -0.5509890
Experience_Squared  0.5686798      -0.6397067
Experience          0.6247809      -0.6237263
AAA                 1.0000000      -0.1807239
Years_Education    -0.1807239       1.0000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>?cor</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(Cities_1980<span class="sc">$</span>COUNTY_POPULATION)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Unknown or uninitialised column: `COUNTY_POPULATION`.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "NULL"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating Population Concentration variable</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>Counties1980 <span class="ot">&lt;-</span> Cities_1980 <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(COUNTYFIP <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATEFIP, COUNTYFIP) <span class="sc">%&gt;%</span> </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'STATEFIP'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># County Codes</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 37 = Los Angeles, California, 27.6% </span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 86 = Dade/Miami, Florida, 35.7%</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 73 = San Diego, California, 14.8%   </span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 81 = Queens, New York, 13.9%</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 215 = Hidalgo, Texas, 81.3%</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 59 = Orange County, California, 14.8%</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 85 = Santa Clara County, California, 17.5%</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 19 = fresno county, California, 29.3%</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 57 = kings County, New york, 17.6% </span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="co"># 17 = hudson County, New Jersey, 26.1%</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(Cities_1980, <span class="at">Hispanic_Population =</span> </span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>         <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span>, <span class="fl">27.6</span>, </span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>                 <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">86</span>, <span class="fl">35.7</span>, </span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">73</span>, <span class="fl">14.8</span>,</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">81</span>, <span class="fl">13.9</span>,</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">215</span>, <span class="fl">81.3</span>, </span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>                                                 </span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>                                                 <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span>, <span class="fl">14.8</span>,</span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>                                                         <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">85</span>, <span class="fl">17.5</span>,</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>                                                                 <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">19</span>, <span class="fl">29.3</span>,</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">57</span>, <span class="fl">17.6</span>,</span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>                                                                                 <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">17</span>, <span class="fl">26.1</span>, <span class="dv">0</span>)))))))))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 910 × 54
    YEAR SAMPLE           SERIAL CBSERIAL  HHWT  CLUSTER CPI99 STATEICP STATEFIP
   &lt;int&gt; &lt;int+lbl&gt;         &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;int+lb&gt; &lt;int+lb&gt;
 1  1980 198002 [1980 1%]   2475       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
 2  1980 198002 [1980 1%]   2475       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
 3  1980 198002 [1980 1%]   2718       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
 4  1980 198002 [1980 1%]   2869       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
 5  1980 198002 [1980 1%]   3197       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
 6  1980 198002 [1980 1%]   3206       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
 7  1980 198002 [1980 1%]   3519       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
 8  1980 198002 [1980 1%]   3775       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
 9  1980 198002 [1980 1%]   3811       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
10  1980 198002 [1980 1%]   3813       NA   100  1.98e12  2.30 61 [Ari… 4 [Ariz…
# ℹ 900 more rows
# ℹ 45 more variables: COUNTYFIP &lt;dbl+lbl&gt;, CITY &lt;int+lbl&gt;, STRATA &lt;dbl&gt;,
#   GQ &lt;int+lbl&gt;, PERNUM &lt;dbl&gt;, PERWT &lt;dbl&gt;, ELDCH &lt;int+lbl&gt;, YNGCH &lt;int+lbl&gt;,
#   SEX &lt;int+lbl&gt;, AGE &lt;int+lbl&gt;, MARST &lt;int+lbl&gt;, RACE &lt;int+lbl&gt;,
#   RACED &lt;int+lbl&gt;, HISPAN &lt;int+lbl&gt;, HISPAND &lt;int+lbl&gt;, BPL &lt;int+lbl&gt;,
#   BPLD &lt;int+lbl&gt;, CITIZEN &lt;int+lbl&gt;, YRIMMIG &lt;int+lbl&gt;, LANGUAGE &lt;int+lbl&gt;,
#   LANGUAGED &lt;int+lbl&gt;, SPEAKENG &lt;int+lbl&gt;, EDUC &lt;int+lbl&gt;, EDUCD &lt;int+lbl&gt;, …</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(<span class="fu">head</span>(Cities_1980, <span class="dv">10</span>))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>ENG80 <span class="ot">&lt;-</span> <span class="fu">lm</span>(SPEAKENG_new <span class="sc">~</span> AAA <span class="sc">+</span> Citizenship_Status <span class="sc">+</span> ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> Hispanic_Population <span class="sc">+</span> Citizenship_Status <span class="sc">+</span> Years_Education,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> Cities_1980)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ENG80)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = SPEAKENG_new ~ AAA + Citizenship_Status + ELDCH + 
    YNGCH + Hispanic_Population + Citizenship_Status + Years_Education, 
    data = Cities_1980)
Residuals:
     Min       1Q   Median       3Q      Max 
-2.16632 -0.45188 -0.04948  0.40844  2.69892 
Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          3.531428   0.131826  26.789  &lt; 2e-16 ***
AAA                  0.030225   0.005269   5.736 1.32e-08 ***
Citizenship_Status  -0.202931   0.049017  -4.140 3.80e-05 ***
ELDCH                0.021707   0.005897   3.681 0.000246 ***
YNGCH               -0.019993   0.006302  -3.172 0.001563 ** 
Hispanic_Population  0.006846   0.001841   3.719 0.000212 ***
Years_Education     -0.119252   0.007463 -15.980  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.7066 on 903 degrees of freedom
Multiple R-squared:  0.3652,    Adjusted R-squared:  0.361 
F-statistic: 86.59 on 6 and 903 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="sample-1" class="level3">
<h3 data-anchor-id="sample-1">1990 Sample</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 1990 --------------------------------------------------------------------</span></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a>Cities_1990 <span class="ot">&lt;-</span> Sample1990 <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YEAR <span class="sc">==</span> <span class="dv">1990</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">18</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YRIMMIG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1960</span><span class="sc">:</span><span class="dv">1974</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hispanic_Origin =</span> <span class="fu">ifelse</span>(HISPAN <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Middle =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">High_School =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">College =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Graduate_Degree =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Graduate_Degree"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Gender =</span> <span class="fu">ifelse</span>(SEX <span class="sc">==</span> <span class="dv">2</span> , <span class="dv">1</span> , <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Origin <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Citizenship_Status =</span> <span class="fu">ifelse</span>(CITIZEN <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Graduate_Degree <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ELDCH <span class="sc">!=</span> <span class="dv">99</span> <span class="sc">|</span></span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a>           YNGCH<span class="sc">!=</span> <span class="dv">99</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-74"><a href="#cb29-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">12</span>, <span class="dv">17</span>, <span class="dv">36</span>)<span class="sc">|</span></span>
<span id="cb29-75"><a href="#cb29-75" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">37</span>, <span class="dv">86</span>, <span class="dv">31</span>, <span class="dv">59</span>, <span class="dv">5</span>, <span class="dv">48</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-76"><a href="#cb29-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">YSM =</span> (AGE <span class="sc">-</span> AAA)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-77"><a href="#cb29-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">|</span></span>
<span id="cb29-78"><a href="#cb29-78" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">!=</span> <span class="dv">0</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb29-79"><a href="#cb29-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience_Squared =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, ((AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb29-80"><a href="#cb29-80" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, ((AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb29-81"><a href="#cb29-81" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, ((AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb29-82"><a href="#cb29-82" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, ((AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb29-83"><a href="#cb29-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb29-84"><a href="#cb29-84" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb29-85"><a href="#cb29-85" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb29-86"><a href="#cb29-86" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb29-87"><a href="#cb29-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Years_Education =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, <span class="dv">5</span>, </span>
<span id="cb29-88"><a href="#cb29-88" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">8</span>,</span>
<span id="cb29-89"><a href="#cb29-89" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">12</span>,</span>
<span id="cb29-90"><a href="#cb29-90" aria-hidden="true" tabindex="-1"></a>                                                <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">16</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb29-91"><a href="#cb29-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Education_Dummy =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Elementary"</span>, <span class="st">"Middle"</span>), <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb29-92"><a href="#cb29-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(INCTOT <span class="sc">!=</span> <span class="dv">9999999</span> <span class="sc">|</span> INCTOT <span class="sc">!=</span> <span class="dv">9999998</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb29-93"><a href="#cb29-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">Hispanic_Population =</span> </span>
<span id="cb29-94"><a href="#cb29-94" aria-hidden="true" tabindex="-1"></a>            <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span>, <span class="fl">37.8</span> , </span>
<span id="cb29-95"><a href="#cb29-95" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">86</span>, <span class="fl">49.2</span> , </span>
<span id="cb29-96"><a href="#cb29-96" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span>, <span class="fl">13.6</span> ,</span>
<span id="cb29-97"><a href="#cb29-97" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span>, <span class="fl">23.4</span> ,</span>
<span id="cb29-98"><a href="#cb29-98" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">5</span>, <span class="fl">43.5</span>,</span>
<span id="cb29-99"><a href="#cb29-99" aria-hidden="true" tabindex="-1"></a>                                                    <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">47</span>, <span class="fl">20.1</span>,</span>
<span id="cb29-100"><a href="#cb29-100" aria-hidden="true" tabindex="-1"></a>                                                            <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">73</span>, <span class="fl">20.4</span>,</span>
<span id="cb29-101"><a href="#cb29-101" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">81</span>, <span class="fl">19.5</span>,</span>
<span id="cb29-102"><a href="#cb29-102" aria-hidden="true" tabindex="-1"></a>                                                                            <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">61</span>, <span class="fl">26.0</span>,</span>
<span id="cb29-103"><a href="#cb29-103" aria-hidden="true" tabindex="-1"></a>                                                                                    <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">141</span>, <span class="fl">69.6</span>, <span class="dv">0</span>))))))))))) <span class="sc">%&gt;%</span> </span>
<span id="cb29-104"><a href="#cb29-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Population <span class="sc">!=</span> <span class="dv">0</span>)</span>
<span id="cb29-105"><a href="#cb29-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-106"><a href="#cb29-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-107"><a href="#cb29-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-108"><a href="#cb29-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-109"><a href="#cb29-109" aria-hidden="true" tabindex="-1"></a><span class="co">#1990 OLS </span></span>
<span id="cb29-110"><a href="#cb29-110" aria-hidden="true" tabindex="-1"></a>OLS1990 <span class="ot">&lt;-</span> <span class="fu">lm</span>(LogWages <span class="sc">~</span> AGE <span class="sc">+</span> Gender  <span class="sc">+</span>  SPEAKENG_new <span class="sc">+</span> Citizenship_Status <span class="sc">+</span> Experience_Squared, <span class="at">data =</span> Cities_1990)</span>
<span id="cb29-111"><a href="#cb29-111" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(OLS1990)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = LogWages ~ AGE + Gender + SPEAKENG_new + Citizenship_Status + 
    Experience_Squared, data = Cities_1990)
Residuals:
    Min      1Q  Median      3Q     Max 
-6.7612 -0.3327  0.1675  0.5374  2.8682 
Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         9.12540    0.16636  54.854  &lt; 2e-16 ***
AGE                 0.04991    0.00525   9.507  &lt; 2e-16 ***
Gender             -0.76589    0.03214 -23.831  &lt; 2e-16 ***
SPEAKENG_new       -0.13018    0.01929  -6.750 1.76e-11 ***
Citizenship_Status  0.20821    0.03422   6.084 1.31e-09 ***
Experience_Squared -0.09769    0.01171  -8.341  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.8876 on 3071 degrees of freedom
Multiple R-squared:  0.2203,    Adjusted R-squared:  0.219 
F-statistic: 173.5 on 5 and 3071 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1990 OLS on SPEAKENG</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>ENG1990 <span class="ot">&lt;-</span> <span class="fu">lm</span>(SPEAKENG_new <span class="sc">~</span> AAA <span class="sc">+</span> ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>                Hispanic_Population <span class="sc">+</span> Years_Education,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> Cities_1990)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ENG1990)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = SPEAKENG_new ~ AAA + ELDCH + YNGCH + Hispanic_Population + 
    Years_Education, data = Cities_1990)
Residuals:
     Min       1Q   Median       3Q      Max 
-2.67283 -0.47408 -0.09447  0.49429  3.10204 
Coefficients:
                      Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          3.5731076  0.0818509  43.654  &lt; 2e-16 ***
AAA                  0.0370415  0.0033118  11.185  &lt; 2e-16 ***
ELDCH                0.0074700  0.0033038   2.261   0.0238 *  
YNGCH               -0.0135626  0.0033779  -4.015 6.08e-05 ***
Hispanic_Population -0.0004506  0.0012241  -0.368   0.7128    
Years_Education     -0.1084347  0.0043794 -24.760  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.7894 on 3071 degrees of freedom
Multiple R-squared:  0.2737,    Adjusted R-squared:  0.2725 
F-statistic: 231.4 on 5 and 3071 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1990 IV </span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>iv1990 <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(LogWages <span class="sc">~</span>  SPEAKENG_new <span class="sc">+</span> Experience_Squared <span class="sc">+</span> Gender<span class="sc">|</span>Experience_Squared   <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>                  Gender <span class="sc">+</span> AAA <span class="sc">+</span> Hispanic_Population <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>                  ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> Years_Education , <span class="at">data =</span> Cities_1990)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iv1990)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
ivreg(formula = LogWages ~ SPEAKENG_new + Experience_Squared + 
    Gender | Experience_Squared + Gender + AAA + Hispanic_Population + 
    ELDCH + YNGCH + Years_Education, data = Cities_1990)
Residuals:
    Min      1Q  Median      3Q     Max 
-7.0700 -0.4207  0.1362  0.6159  3.4617 
Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)        11.570098   0.106056 109.094  &lt; 2e-16 ***
SPEAKENG_new       -0.555160   0.045156 -12.294  &lt; 2e-16 ***
Experience_Squared  0.035691   0.008004   4.459 8.53e-06 ***
Gender             -0.733319   0.034858 -21.037  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.9597 on 3073 degrees of freedom
Multiple R-Squared: 0.08787,    Adjusted R-squared: 0.08698 
Wald test: 218.8 on 3 and 3073 DF,  p-value: &lt; 2.2e-16 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating Population variable </span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>Counties_1990 <span class="ot">&lt;-</span> Cities_1990 <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(COUNTYFIP <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATEFIP, COUNTYFIP) <span class="sc">%&gt;%</span> </span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'STATEFIP'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># County codes</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 37 = Los Angeles, California, 37.8</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 86 = Miami/Dade county, 49.2</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 31 = Cook County, Illinois</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 59 = Orange County, California </span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 5 = Bronx County, New York</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>Cities_1990 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Cities_1990, <span class="at">Hispanic_Population =</span> </span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span>, <span class="fl">37.8</span> , </span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">86</span>, <span class="fl">49.2</span> , </span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span>, <span class="fl">13.6</span> ,</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span>, <span class="fl">23.4</span> ,</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>                                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">5</span>, <span class="fl">43.5</span>,</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>                                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">47</span>, <span class="fl">20.1</span>,</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">73</span>, <span class="fl">20.4</span>,</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">81</span>, <span class="fl">19.5</span>,</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>                                                                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">61</span>, <span class="fl">26.0</span>,</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>                                                                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">141</span>, <span class="fl">69.6</span>, <span class="dv">0</span>)))))))))))</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(<span class="fu">head</span>(Cities_1990))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sample-2" class="level3">
<h3 data-anchor-id="sample-2">2000 Sample</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 2000 --------------------------------------------------------------------</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a>Cities_2000 <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YEAR <span class="sc">==</span> <span class="dv">2000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">18</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YRIMMIG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1970</span><span class="sc">:</span><span class="dv">1984</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hispanic_Origin =</span> <span class="fu">ifelse</span>(HISPAN <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Middle =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">High_School =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">College =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-69"><a href="#cb38-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Graduate_Degree =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Graduate_Degree"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-70"><a href="#cb38-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Gender =</span> <span class="fu">ifelse</span>(SEX <span class="sc">==</span> <span class="dv">2</span> , <span class="dv">1</span> , <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-71"><a href="#cb38-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Origin <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-72"><a href="#cb38-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Citizenship_Status =</span> <span class="fu">ifelse</span>(CITIZEN <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-73"><a href="#cb38-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Graduate_Degree <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-74"><a href="#cb38-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ELDCH <span class="sc">!=</span> <span class="dv">99</span> <span class="sc">|</span></span>
<span id="cb38-75"><a href="#cb38-75" aria-hidden="true" tabindex="-1"></a>           YNGCH<span class="sc">!=</span> <span class="dv">99</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-76"><a href="#cb38-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">48</span>, <span class="dv">17</span>, <span class="dv">4</span>, <span class="dv">36</span>) <span class="sc">|</span></span>
<span id="cb38-77"><a href="#cb38-77" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">37</span>, <span class="dv">59</span>, <span class="dv">201</span>, <span class="dv">31</span>, <span class="dv">73</span>, <span class="dv">71</span>, <span class="dv">113</span>, <span class="dv">13</span>, <span class="dv">81</span>, <span class="dv">5</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-78"><a href="#cb38-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">YSM =</span> (AGE <span class="sc">-</span> AAA)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-79"><a href="#cb38-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">|</span></span>
<span id="cb38-80"><a href="#cb38-80" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-81"><a href="#cb38-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb38-82"><a href="#cb38-82" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb38-83"><a href="#cb38-83" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb38-84"><a href="#cb38-84" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb38-85"><a href="#cb38-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience_Squared =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, ((AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb38-86"><a href="#cb38-86" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, ((AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb38-87"><a href="#cb38-87" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, ((AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb38-88"><a href="#cb38-88" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, ((AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb38-89"><a href="#cb38-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Years_Education =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, <span class="dv">5</span>, </span>
<span id="cb38-90"><a href="#cb38-90" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">8</span>,</span>
<span id="cb38-91"><a href="#cb38-91" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">12</span>,</span>
<span id="cb38-92"><a href="#cb38-92" aria-hidden="true" tabindex="-1"></a>                                                <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">16</span>, <span class="dv">0</span>)))))<span class="sc">%&gt;%</span> </span>
<span id="cb38-93"><a href="#cb38-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Education_Dummy =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Elementary"</span>, <span class="st">"Middle"</span>), <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-94"><a href="#cb38-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(INCTOT <span class="sc">!=</span> <span class="dv">9999999</span> <span class="sc">|</span> INCTOT <span class="sc">!=</span> <span class="dv">9999998</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-95"><a href="#cb38-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hispanic_Population =</span> </span>
<span id="cb38-96"><a href="#cb38-96" aria-hidden="true" tabindex="-1"></a>           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span>, <span class="fl">44.6</span>, </span>
<span id="cb38-97"><a href="#cb38-97" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span>, <span class="fl">30.8</span>, </span>
<span id="cb38-98"><a href="#cb38-98" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">201</span>, <span class="fl">32.9</span>,</span>
<span id="cb38-99"><a href="#cb38-99" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span>, <span class="fl">19.9</span>,</span>
<span id="cb38-100"><a href="#cb38-100" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">73</span>, <span class="fl">26.7</span>, </span>
<span id="cb38-101"><a href="#cb38-101" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">71</span>,<span class="fl">39.2</span> , </span>
<span id="cb38-102"><a href="#cb38-102" aria-hidden="true" tabindex="-1"></a>                                                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">113</span>,<span class="fl">29.9</span> , </span>
<span id="cb38-103"><a href="#cb38-103" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span>, <span class="fl">24.8</span>, </span>
<span id="cb38-104"><a href="#cb38-104" aria-hidden="true" tabindex="-1"></a>                                                                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">81</span>,<span class="fl">25.0</span> , </span>
<span id="cb38-105"><a href="#cb38-105" aria-hidden="true" tabindex="-1"></a>                                                                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">5</span>,<span class="fl">48.4</span> ,<span class="dv">0</span>))))))))))) <span class="sc">%&gt;%</span> </span>
<span id="cb38-106"><a href="#cb38-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Population <span class="sc">!=</span> <span class="dv">0</span>)</span>
<span id="cb38-107"><a href="#cb38-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-108"><a href="#cb38-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-109"><a href="#cb38-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-110"><a href="#cb38-110" aria-hidden="true" tabindex="-1"></a><span class="co">#  filter(COUNTYFIP %in% c(37, 59, 31, 201, 73))</span></span>
<span id="cb38-111"><a href="#cb38-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-112"><a href="#cb38-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-113"><a href="#cb38-113" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating Population variable</span></span>
<span id="cb38-114"><a href="#cb38-114" aria-hidden="true" tabindex="-1"></a>Counties2000 <span class="ot">&lt;-</span> Cities_2000 <span class="sc">%&gt;%</span> </span>
<span id="cb38-115"><a href="#cb38-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(COUNTYFIP <span class="sc">!=</span> <span class="dv">0</span> ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-116"><a href="#cb38-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATEFIP, COUNTYFIP) <span class="sc">%&gt;%</span> </span>
<span id="cb38-117"><a href="#cb38-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb38-118"><a href="#cb38-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'STATEFIP'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 37 = Los Angeles, 44.6</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 59 = Daviess County, Kentucky, 0.9</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 31 = Whitefeld, Georgia, 22.1</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 201 = Winnebago, Illinois, 6.9</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Colombia, Georgia, 2.6</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>Cities_2000 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Cities_2000, <span class="at">Hispanic_Population =</span> </span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span>, <span class="fl">44.6</span>, </span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span>, <span class="fl">30.8</span>, </span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">201</span>, <span class="fl">32.9</span>,</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span>, <span class="fl">19.9</span>,</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>                                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">73</span>, <span class="fl">26.7</span>, </span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>                                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">71</span>,<span class="fl">39.2</span> , </span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">113</span>,<span class="fl">29.9</span> , </span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span>, <span class="fl">24.8</span>, </span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>                                                                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">81</span>,<span class="fl">25.0</span> , </span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>                                                                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">5</span>,<span class="fl">48.4</span> ,<span class="dv">0</span>)))))))))))                  </span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a><span class="co">#OLS 2000</span></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>OLS2000 <span class="ot">&lt;-</span> <span class="fu">lm</span>(LogWages <span class="sc">~</span> AGE <span class="sc">+</span> Gender  <span class="sc">+</span> SPEAKENG_new <span class="sc">+</span> Citizenship_Status <span class="sc">+</span> Experience_Squared, <span class="at">data =</span> Cities_2000)</span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(OLS2000)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = LogWages ~ AGE + Gender + SPEAKENG_new + Citizenship_Status + 
    Experience_Squared, data = Cities_2000)
Residuals:
    Min      1Q  Median      3Q     Max 
-7.6268 -0.3163  0.1171  0.5050  3.6166 
Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         8.924337   0.132088  67.564  &lt; 2e-16 ***
AGE                 0.048381   0.004496  10.762  &lt; 2e-16 ***
Gender             -0.685819   0.026174 -26.202  &lt; 2e-16 ***
SPEAKENG_new       -0.090270   0.014617  -6.176 7.13e-10 ***
Citizenship_Status  0.211848   0.026951   7.861 4.69e-15 ***
Experience_Squared -0.090454   0.009809  -9.221  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.8875 on 4777 degrees of freedom
Multiple R-squared:  0.1699,    Adjusted R-squared:  0.1691 
F-statistic: 195.6 on 5 and 4777 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#OlS on SPEAKEng</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>ENG2000 <span class="ot">&lt;-</span> <span class="fu">lm</span>(SPEAKENG_new <span class="sc">~</span> AAA  <span class="sc">+</span> ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>                Hispanic_Population <span class="sc">+</span> Years_Education</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>              ,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> Cities_2000)</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ENG2000)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = SPEAKENG_new ~ AAA + ELDCH + YNGCH + Hispanic_Population + 
    Years_Education, data = Cities_2000)
Residuals:
     Min       1Q   Median       3Q      Max 
-2.76757 -0.49072 -0.03791  0.50982  3.10585 
Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          3.147011   0.080610  39.040   &lt;2e-16 ***
AAA                  0.055786   0.002692  20.726   &lt;2e-16 ***
ELDCH                0.003078   0.002764   1.114   0.2655    
YNGCH               -0.007491   0.003094  -2.421   0.0155 *  
Hispanic_Population  0.002927   0.001307   2.239   0.0252 *  
Years_Education     -0.101866   0.004114 -24.760   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.8321 on 4777 degrees of freedom
Multiple R-squared:  0.2615,    Adjusted R-squared:  0.2607 
F-statistic: 338.3 on 5 and 4777 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#2000 IV </span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>iv2000 <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(LogWages <span class="sc">~</span>  SPEAKENG_new <span class="sc">+</span> Experience_Squared   <span class="sc">+</span> Gender<span class="sc">|</span>    Experience_Squared  <span class="sc">+</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>                  Gender <span class="sc">+</span> AAA <span class="sc">+</span> Hispanic_Population <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>                  ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> Years_Education , <span class="at">data =</span> Cities_2000)</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iv2000)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
ivreg(formula = LogWages ~ SPEAKENG_new + Experience_Squared + 
    Gender | Experience_Squared + Gender + AAA + Hispanic_Population + 
    ELDCH + YNGCH + Years_Education, data = Cities_2000)
Residuals:
    Min      1Q  Median      3Q     Max 
-8.7656 -0.3732  0.1232  0.5480  4.0718 
Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)        11.048908   0.092693 119.199  &lt; 2e-16 ***
SPEAKENG_new       -0.405624   0.039200 -10.347  &lt; 2e-16 ***
Experience_Squared  0.039022   0.006983   5.588 2.42e-08 ***
Gender             -0.658475   0.027574 -23.880  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.94 on 4779 degrees of freedom
Multiple R-Squared: 0.06845,    Adjusted R-squared: 0.06786 
Wald test: 233.9 on 3 and 4779 DF,  p-value: &lt; 2.2e-16 </code></pre>
</div>
</div>
</section>
<section id="sample-3" class="level3">
<h3 data-anchor-id="sample-3">2010 Sample</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 2010 --------------------------------------------------------------------</span></span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-43"><a href="#cb46-43" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb46-44"><a href="#cb46-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-45"><a href="#cb46-45" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb46-46"><a href="#cb46-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-47"><a href="#cb46-47" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb46-48"><a href="#cb46-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-49"><a href="#cb46-49" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb46-50"><a href="#cb46-50" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb46-51"><a href="#cb46-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-52"><a href="#cb46-52" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb46-53"><a href="#cb46-53" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span>
<span id="cb46-54"><a href="#cb46-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-55"><a href="#cb46-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-56"><a href="#cb46-56" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb46-57"><a href="#cb46-57" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)</span>
<span id="cb46-58"><a href="#cb46-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-59"><a href="#cb46-59" aria-hidden="true" tabindex="-1"></a>Cities_2010 <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb46-60"><a href="#cb46-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YEAR <span class="sc">==</span> <span class="dv">2010</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-61"><a href="#cb46-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">18</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-62"><a href="#cb46-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YRIMMIG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1980</span><span class="sc">:</span><span class="dv">1994</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-63"><a href="#cb46-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hispanic_Origin =</span> <span class="fu">ifelse</span>(HISPAN <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-64"><a href="#cb46-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Middle =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-65"><a href="#cb46-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">High_School =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-66"><a href="#cb46-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">College =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-67"><a href="#cb46-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Graduate_Degree =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Graduate_Degree"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-68"><a href="#cb46-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Gender =</span> <span class="fu">ifelse</span>(SEX <span class="sc">==</span> <span class="dv">2</span> , <span class="dv">1</span> , <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-69"><a href="#cb46-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Origin <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-70"><a href="#cb46-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Citizenship_Status =</span> <span class="fu">ifelse</span>(CITIZEN <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-71"><a href="#cb46-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Graduate_Degree <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-72"><a href="#cb46-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ELDCH <span class="sc">!=</span> <span class="dv">99</span> <span class="sc">|</span></span>
<span id="cb46-73"><a href="#cb46-73" aria-hidden="true" tabindex="-1"></a>           YNGCH<span class="sc">!=</span> <span class="dv">99</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-74"><a href="#cb46-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(COUNTYFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">37</span>, <span class="dv">201</span>, <span class="dv">31</span>, <span class="dv">59</span>, <span class="dv">13</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-75"><a href="#cb46-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">48</span>, <span class="dv">17</span>, <span class="dv">4</span>, <span class="dv">36</span>, <span class="dv">24</span>, <span class="dv">34</span>,<span class="dv">32</span>) <span class="sc">|</span></span>
<span id="cb46-76"><a href="#cb46-76" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">37</span>, <span class="dv">201</span>, <span class="dv">59</span>, <span class="dv">31</span>, <span class="dv">13</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-77"><a href="#cb46-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">YSM =</span> (AGE <span class="sc">-</span> AAA)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-78"><a href="#cb46-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">|</span></span>
<span id="cb46-79"><a href="#cb46-79" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-80"><a href="#cb46-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb46-81"><a href="#cb46-81" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb46-82"><a href="#cb46-82" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb46-83"><a href="#cb46-83" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb46-84"><a href="#cb46-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience_Squared =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, ((AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb46-85"><a href="#cb46-85" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, ((AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb46-86"><a href="#cb46-86" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, ((AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb46-87"><a href="#cb46-87" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, ((AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb46-88"><a href="#cb46-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Years_Education =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, <span class="dv">5</span>, </span>
<span id="cb46-89"><a href="#cb46-89" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">8</span>,</span>
<span id="cb46-90"><a href="#cb46-90" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">12</span>,</span>
<span id="cb46-91"><a href="#cb46-91" aria-hidden="true" tabindex="-1"></a>                                                <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">16</span>, <span class="dv">0</span>)))))<span class="sc">%&gt;%</span> </span>
<span id="cb46-92"><a href="#cb46-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Education_Dummy =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Elementary"</span>, <span class="st">"Middle"</span>), <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-93"><a href="#cb46-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(INCTOT <span class="sc">!=</span> <span class="dv">9999999</span> <span class="sc">|</span> INCTOT <span class="sc">!=</span> <span class="dv">9999998</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-94"><a href="#cb46-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hispanic_Population =</span> </span>
<span id="cb46-95"><a href="#cb46-95" aria-hidden="true" tabindex="-1"></a>           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span>,<span class="fl">47.7</span> , </span>
<span id="cb46-96"><a href="#cb46-96" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">201</span>, <span class="fl">11.1</span>, </span>
<span id="cb46-97"><a href="#cb46-97" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">6</span>, <span class="fl">33.7</span>,</span>
<span id="cb46-98"><a href="#cb46-98" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span>, <span class="fl">24.0</span> ,</span>
<span id="cb46-99"><a href="#cb46-99" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">4</span>,<span class="fl">29.6</span> , </span>
<span id="cb46-100"><a href="#cb46-100" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">6</span>, <span class="fl">24.4</span>,</span>
<span id="cb46-101"><a href="#cb46-101" aria-hidden="true" tabindex="-1"></a>                                                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">36</span>, <span class="fl">14.6</span> ,</span>
<span id="cb46-102"><a href="#cb46-102" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">24</span>, <span class="fl">17.0</span>,</span>
<span id="cb46-103"><a href="#cb46-103" aria-hidden="true" tabindex="-1"></a>                                                                           <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">34</span>,<span class="fl">20.3</span> , </span>
<span id="cb46-104"><a href="#cb46-104" aria-hidden="true" tabindex="-1"></a>                                                                                   <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">32</span>,<span class="fl">22.2</span> ,<span class="dv">0</span>))))))))))) <span class="sc">%&gt;%</span> </span>
<span id="cb46-105"><a href="#cb46-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Population <span class="sc">!=</span> <span class="dv">0</span>)</span>
<span id="cb46-106"><a href="#cb46-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-107"><a href="#cb46-107" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating population variable </span></span>
<span id="cb46-108"><a href="#cb46-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-109"><a href="#cb46-109" aria-hidden="true" tabindex="-1"></a>Cities_2010 <span class="sc">%&gt;%</span> </span>
<span id="cb46-110"><a href="#cb46-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(COUNTYFIP <span class="sc">!=</span> <span class="dv">0</span> ) <span class="sc">%&gt;%</span> </span>
<span id="cb46-111"><a href="#cb46-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATEFIP, COUNTYFIP) <span class="sc">%&gt;%</span> </span>
<span id="cb46-112"><a href="#cb46-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb46-113"><a href="#cb46-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'STATEFIP'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 23 × 3
# Groups:   STATEFIP [16]
   STATEFIP        COUNTYFIP     n
   &lt;int+lbl&gt;       &lt;dbl+lbl&gt; &lt;int&gt;
 1  6 [California]  37        1812
 2 48 [Texas]      201         483
 3  6 [California]  59         392
 4 17 [Illinois]    31         311
 5  4 [Arizona]     13         270
 6  6 [California]  13          91
 7 36 [New York]    59          52
 8 24 [Maryland]    31          46
 9 34 [New Jersey]  13          40
10 32 [Nevada]      31          39
# ℹ 13 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 37 = Los Angeles, California, 47.7</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 201 = Winnebago, Illinois, 10.9</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 31 = Witefeld, Georgia, 31.6</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 59 = Daviess County, Kentucky, 2.6 </span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 13 = Black Hawk Iowa, 3.7</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>Cities_2010 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Cities_2010, <span class="at">Hispanic_Population =</span> </span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span>,<span class="fl">47.7</span> , </span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">201</span>, <span class="fl">11.1</span>, </span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">6</span>, <span class="fl">33.7</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span>, <span class="fl">24.0</span> ,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>                                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">4</span>,<span class="fl">29.6</span> , </span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>                                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">6</span>, <span class="fl">24.4</span>,</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">59</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">36</span>, <span class="fl">14.6</span> ,</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">24</span>, <span class="fl">17.0</span>,</span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>                                                                                        <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">34</span>,<span class="fl">20.3</span> , </span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>                                                                                                <span class="fu">if_else</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">32</span>,<span class="fl">22.2</span> ,<span class="dv">0</span>)))))))))))</span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a><span class="co">#OLS 2010</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>OLS2010 <span class="ot">&lt;-</span> <span class="fu">lm</span>(LogWages <span class="sc">~</span> AGE <span class="sc">+</span> Gender  <span class="sc">+</span>   SPEAKENG_new  <span class="sc">+</span> Citizenship_Status <span class="sc">+</span> Experience_Squared, <span class="at">data =</span> Cities_2010)</span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(OLS2010)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = LogWages ~ AGE + Gender + SPEAKENG_new + Citizenship_Status + 
    Experience_Squared, data = Cities_2010)
Residuals:
    Min      1Q  Median      3Q     Max 
-8.1747 -0.3406  0.1192  0.5125  3.7177 
Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         8.564208   0.148643  57.616  &lt; 2e-16 ***
AGE                 0.056858   0.004841  11.745  &lt; 2e-16 ***
Gender             -0.606501   0.028578 -21.222  &lt; 2e-16 ***
SPEAKENG_new       -0.130377   0.015774  -8.265  &lt; 2e-16 ***
Citizenship_Status  0.252150   0.030908   8.158 4.63e-16 ***
Experience_Squared -0.095373   0.009965  -9.570  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.842 on 3640 degrees of freedom
Multiple R-squared:  0.1911,    Adjusted R-squared:   0.19 
F-statistic:   172 on 5 and 3640 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co">#OlS on SPEAKEng</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>ENG2010 <span class="ot">&lt;-</span> <span class="fu">lm</span>(SPEAKENG_new <span class="sc">~</span> AAA  <span class="sc">+</span> ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>                Hispanic_Population <span class="sc">+</span> Years_Education </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>              ,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> Cities_2010)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ENG2010)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = SPEAKENG_new ~ AAA + ELDCH + YNGCH + Hispanic_Population + 
    Years_Education, data = Cities_2010)
Residuals:
    Min      1Q  Median      3Q     Max 
-3.0044 -0.5890 -0.0560  0.5369  3.2370 
Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          3.414101   0.089348  38.211  &lt; 2e-16 ***
AAA                  0.046987   0.003384  13.883  &lt; 2e-16 ***
ELDCH                0.013476   0.003180   4.238 2.31e-05 ***
YNGCH               -0.008053   0.003299  -2.441   0.0147 *  
Hispanic_Population  0.002044   0.001082   1.888   0.0591 .  
Years_Education     -0.110588   0.004817 -22.958  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.8581 on 3640 degrees of freedom
Multiple R-squared:  0.2462,    Adjusted R-squared:  0.2452 
F-statistic: 237.8 on 5 and 3640 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#IV 2010</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>iv2010 <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(LogWages <span class="sc">~</span>  SPEAKENG_new <span class="sc">+</span> Experience_Squared  <span class="sc">+</span> Gender <span class="sc">|</span>    Experience_Squared  <span class="sc">+</span> </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>                  Gender <span class="sc">+</span> AAA <span class="sc">+</span> Hispanic_Population <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>                  ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> Years_Education, <span class="at">data =</span> Cities_2010)</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iv2010)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
ivreg(formula = LogWages ~ SPEAKENG_new + Experience_Squared + 
    Gender | Experience_Squared + Gender + AAA + Hispanic_Population + 
    ELDCH + YNGCH + Years_Education, data = Cities_2010)
Residuals:
    Min      1Q  Median      3Q     Max 
-9.0532 -0.3925  0.1141  0.5793  3.9114 
Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)        11.235664   0.112564   99.82  &lt; 2e-16 ***
SPEAKENG_new       -0.533560   0.044591  -11.97  &lt; 2e-16 ***
Experience_Squared  0.054478   0.007402    7.36 2.26e-13 ***
Gender             -0.586243   0.031282  -18.74  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.9265 on 3642 degrees of freedom
Multiple R-Squared: 0.02005,    Adjusted R-squared: 0.01925 
Wald test: 165.7 on 3 and 3642 DF,  p-value: &lt; 2.2e-16 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(<span class="fu">head</span>(Cities_1980, <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="sample-4" class="level3">
<h3 data-anchor-id="sample-4">2019 Sample</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-27"><a href="#cb56-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-28"><a href="#cb56-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 2019 --------------------------------------------------------------------</span></span>
<span id="cb56-29"><a href="#cb56-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb56-30"><a href="#cb56-30" aria-hidden="true" tabindex="-1"></a><span class="co"># SPEAKENG</span></span>
<span id="cb56-31"><a href="#cb56-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-32"><a href="#cb56-32" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_numeric <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data<span class="sc">$</span>SPEAKENG)</span>
<span id="cb56-33"><a href="#cb56-33" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>SPEAKENG_new <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">recode</span>(data<span class="sc">$</span>SPEAKENG_numeric, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>, <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span>)</span>
<span id="cb56-34"><a href="#cb56-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-35"><a href="#cb56-35" aria-hidden="true" tabindex="-1"></a><span class="co">#EDUC</span></span>
<span id="cb56-36"><a href="#cb56-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-37"><a href="#cb56-37" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>EDUC_Grade <span class="ot">&lt;-</span> <span class="fu">case_when</span>(data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>) <span class="sc">~</span> <span class="st">"Elementary"</span>,</span>
<span id="cb56-38"><a href="#cb56-38" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">~</span> <span class="st">"Middle"</span>,</span>
<span id="cb56-39"><a href="#cb56-39" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">~</span> <span class="st">"High_School"</span>,</span>
<span id="cb56-40"><a href="#cb56-40" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">7</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">~</span> <span class="st">"College"</span>,</span>
<span id="cb56-41"><a href="#cb56-41" aria-hidden="true" tabindex="-1"></a>                             data<span class="sc">$</span>EDUC <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>) <span class="sc">~</span> <span class="st">"Graduate_Degree"</span>)</span>
<span id="cb56-42"><a href="#cb56-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-43"><a href="#cb56-43" aria-hidden="true" tabindex="-1"></a><span class="co">#Age At Arrival Variable </span></span>
<span id="cb56-44"><a href="#cb56-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-45"><a href="#cb56-45" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">AAA =</span> AGE <span class="sc">-</span> (YEAR <span class="sc">-</span> YRIMMIG))</span>
<span id="cb56-46"><a href="#cb56-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-47"><a href="#cb56-47" aria-hidden="true" tabindex="-1"></a><span class="co">#Inflation Adjusted Income Variable </span></span>
<span id="cb56-48"><a href="#cb56-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-49"><a href="#cb56-49" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">filter</span>(data, INCTOT <span class="sc">&gt;</span> <span class="dv">0</span>) </span>
<span id="cb56-50"><a href="#cb56-50" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">Inflation_Adjusted =</span> INCTOT<span class="sc">*</span>CPI99)</span>
<span id="cb56-51"><a href="#cb56-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-52"><a href="#cb56-52" aria-hidden="true" tabindex="-1"></a><span class="co">#Log wages</span></span>
<span id="cb56-53"><a href="#cb56-53" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(data, <span class="at">LogWages =</span> <span class="fu">log</span>(Inflation_Adjusted))</span>
<span id="cb56-54"><a href="#cb56-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-55"><a href="#cb56-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-56"><a href="#cb56-56" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb56-57"><a href="#cb56-57" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AER)</span>
<span id="cb56-58"><a href="#cb56-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-59"><a href="#cb56-59" aria-hidden="true" tabindex="-1"></a>Cities_2019 <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb56-60"><a href="#cb56-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YEAR <span class="sc">==</span> <span class="dv">2019</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-61"><a href="#cb56-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AAA <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">18</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-62"><a href="#cb56-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(YRIMMIG <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1989</span><span class="sc">:</span><span class="dv">2003</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-63"><a href="#cb56-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hispanic_Origin =</span> <span class="fu">ifelse</span>(HISPAN <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-64"><a href="#cb56-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Middle =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-65"><a href="#cb56-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">High_School =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-66"><a href="#cb56-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">College =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-67"><a href="#cb56-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Graduate_Degree =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Graduate_Degree"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-68"><a href="#cb56-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Gender =</span> <span class="fu">ifelse</span>(SEX <span class="sc">==</span> <span class="dv">2</span> , <span class="dv">1</span> , <span class="dv">0</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-69"><a href="#cb56-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Origin <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-70"><a href="#cb56-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Citizenship_Status =</span> <span class="fu">ifelse</span>(CITIZEN <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb56-71"><a href="#cb56-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Graduate_Degree <span class="sc">!=</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-72"><a href="#cb56-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ELDCH <span class="sc">!=</span> <span class="dv">99</span> <span class="sc">|</span></span>
<span id="cb56-73"><a href="#cb56-73" aria-hidden="true" tabindex="-1"></a>           YNGCH <span class="sc">!=</span> <span class="dv">99</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-74"><a href="#cb56-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(COUNTYFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">37</span>, <span class="dv">31</span>, <span class="dv">201</span>, <span class="dv">113</span>, <span class="dv">13</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-75"><a href="#cb56-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Years_In_Country =</span> (AGE<span class="sc">-</span> AAA)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-76"><a href="#cb56-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">48</span>, <span class="dv">17</span>, <span class="dv">4</span>, <span class="dv">24</span>, <span class="dv">32</span>, <span class="dv">34</span>) <span class="sc">|</span></span>
<span id="cb56-77"><a href="#cb56-77" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">37</span>, <span class="dv">201</span>, <span class="dv">113</span>, <span class="dv">31</span>, <span class="dv">13</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-78"><a href="#cb56-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">YSM =</span> (AGE <span class="sc">-</span> AAA)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-79"><a href="#cb56-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(STATEFIP <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">|</span></span>
<span id="cb56-80"><a href="#cb56-80" aria-hidden="true" tabindex="-1"></a>           COUNTYFIP <span class="sc">!=</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-81"><a href="#cb56-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb56-82"><a href="#cb56-82" aria-hidden="true" tabindex="-1"></a>                             <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb56-83"><a href="#cb56-83" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>, </span>
<span id="cb56-84"><a href="#cb56-84" aria-hidden="true" tabindex="-1"></a>                                           <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb56-85"><a href="#cb56-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Experience_Squared =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, ((AGE <span class="sc">-</span> <span class="dv">5</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb56-86"><a href="#cb56-86" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, ((AGE <span class="sc">-</span> <span class="dv">8</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb56-87"><a href="#cb56-87" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, ((AGE <span class="sc">-</span> <span class="dv">12</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, </span>
<span id="cb56-88"><a href="#cb56-88" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, ((AGE <span class="sc">-</span> <span class="dv">16</span> <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span><span class="dv">100</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb56-89"><a href="#cb56-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Education_Dummy =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Elementary"</span>, <span class="st">"Middle"</span>), <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb56-90"><a href="#cb56-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Years_Education =</span> <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Elementary"</span>, <span class="dv">5</span>, </span>
<span id="cb56-91"><a href="#cb56-91" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"Middle"</span>, <span class="dv">8</span>,</span>
<span id="cb56-92"><a href="#cb56-92" aria-hidden="true" tabindex="-1"></a>                                         <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"High_School"</span>, <span class="dv">12</span>,</span>
<span id="cb56-93"><a href="#cb56-93" aria-hidden="true" tabindex="-1"></a>                                                <span class="fu">ifelse</span>(EDUC_Grade <span class="sc">==</span> <span class="st">"College"</span>, <span class="dv">16</span>, <span class="dv">0</span>))))) <span class="sc">%&gt;%</span> </span>
<span id="cb56-94"><a href="#cb56-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(INCTOT <span class="sc">!=</span> <span class="dv">9999999</span> <span class="sc">|</span> INCTOT <span class="sc">!=</span> <span class="dv">9999998</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-95"><a href="#cb56-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hispanic_Population =</span> </span>
<span id="cb56-96"><a href="#cb56-96" aria-hidden="true" tabindex="-1"></a>           <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">6</span>, <span class="fl">48.0</span>,</span>
<span id="cb56-97"><a href="#cb56-97" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">201</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">48</span>, <span class="fl">43.0</span>,</span>
<span id="cb56-98"><a href="#cb56-98" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">113</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">48</span>, <span class="fl">40.5</span>,</span>
<span id="cb56-99"><a href="#cb56-99" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">17</span>, <span class="fl">26.2</span>,</span>
<span id="cb56-100"><a href="#cb56-100" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">4</span>, <span class="fl">30.6</span>,</span>
<span id="cb56-101"><a href="#cb56-101" aria-hidden="true" tabindex="-1"></a>                                              <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">6</span>, <span class="fl">27.0</span>,</span>
<span id="cb56-102"><a href="#cb56-102" aria-hidden="true" tabindex="-1"></a>                                                     <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">24</span>, <span class="fl">20.5</span>,</span>
<span id="cb56-103"><a href="#cb56-103" aria-hidden="true" tabindex="-1"></a>                                                            <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">34</span>, <span class="fl">42.7</span>, </span>
<span id="cb56-104"><a href="#cb56-104" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">32</span>, <span class="fl">25.1</span>,</span>
<span id="cb56-105"><a href="#cb56-105" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">34</span>, <span class="fl">24.4</span>, <span class="dv">0</span>))))))))))) <span class="sc">%&gt;%</span> </span>
<span id="cb56-106"><a href="#cb56-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Hispanic_Population <span class="sc">!=</span> <span class="dv">0</span> )</span>
<span id="cb56-107"><a href="#cb56-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-108"><a href="#cb56-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-109"><a href="#cb56-109" aria-hidden="true" tabindex="-1"></a><span class="co">#mutate(COUNTY_POPULATION = ifelse(STATEFIP %in% c(6,12, 36, 48, 36, 34), 1, 0))</span></span>
<span id="cb56-110"><a href="#cb56-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-111"><a href="#cb56-111" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(<span class="fu">head</span>(Cities_2019</span>
<span id="cb56-112"><a href="#cb56-112" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb56-113"><a href="#cb56-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-114"><a href="#cb56-114" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating Population Variable </span></span>
<span id="cb56-115"><a href="#cb56-115" aria-hidden="true" tabindex="-1"></a>Cities_2019 <span class="sc">%&gt;%</span> </span>
<span id="cb56-116"><a href="#cb56-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(STATEFIP, COUNTYFIP) <span class="sc">%&gt;%</span> </span>
<span id="cb56-117"><a href="#cb56-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb56-118"><a href="#cb56-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>n)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'STATEFIP'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 26 × 3
# Groups:   STATEFIP [16]
   STATEFIP        COUNTYFIP     n
   &lt;int+lbl&gt;       &lt;dbl+lbl&gt; &lt;int&gt;
 1  6 [California]  37        1146
 2 48 [Texas]      201         378
 3 48 [Texas]      113         305
 4 17 [Illinois]    31         232
 5  4 [Arizona]     13         230
 6  6 [California]  13          69
 7 24 [Maryland]    31          63
 8 34 [New Jersey]  31          58
 9 32 [Nevada]      31          41
10 34 [New Jersey]  13          25
# ℹ 16 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>Cities_2019 <span class="ot">&lt;-</span> <span class="fu">mutate</span>(Cities_2019, <span class="at">Hispanic_Population =</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">37</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">6</span>, <span class="fl">48.0</span>,</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">201</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">48</span>, <span class="fl">43.0</span>,</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">113</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">48</span>, <span class="fl">40.5</span>,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>                                             <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">17</span>, <span class="fl">26.2</span>,</span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>                                                    <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">4</span>, <span class="fl">30.6</span>,</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>                                                           <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">6</span>, <span class="fl">27.0</span>,</span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>                                                                  <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">24</span>, <span class="fl">20.5</span>,</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">34</span>, <span class="fl">42.7</span>, </span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">31</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">32</span>, <span class="fl">25.1</span>,</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>                                                                                       <span class="fu">ifelse</span>(COUNTYFIP <span class="sc">==</span> <span class="dv">13</span> <span class="sc">|</span> STATEFIP <span class="sc">==</span> <span class="dv">34</span>, <span class="fl">24.4</span>, <span class="dv">0</span>)))))))))))</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a><span class="co">#OLS 2019</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>OLS2019 <span class="ot">&lt;-</span> <span class="fu">lm</span>(LogWages <span class="sc">~</span> AGE <span class="sc">+</span> Gender   <span class="sc">+</span>SPEAKENG_new <span class="sc">+</span> Citizenship_Status <span class="sc">+</span> Experience_Squared  , <span class="at">data =</span> Cities_2019)</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(OLS2019)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = LogWages ~ AGE + Gender + SPEAKENG_new + Citizenship_Status + 
    Experience_Squared, data = Cities_2019)
Residuals:
    Min      1Q  Median      3Q     Max 
-5.9358 -0.3293  0.1055  0.4698  3.6066 
Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)         8.94440    0.17506  51.092  &lt; 2e-16 ***
AGE                 0.04485    0.00576   7.786 9.86e-15 ***
Gender             -0.61124    0.03230 -18.923  &lt; 2e-16 ***
SPEAKENG_new       -0.08795    0.01800  -4.887 1.09e-06 ***
Citizenship_Status  0.21076    0.03541   5.952 3.00e-09 ***
Experience_Squared -0.08482    0.01216  -6.974 3.88e-12 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.8206 on 2649 degrees of freedom
Multiple R-squared:  0.1576,    Adjusted R-squared:  0.156 
F-statistic: 99.08 on 5 and 2649 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co">#OlS on SPEAKEng</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>ENG2019 <span class="ot">&lt;-</span> <span class="fu">lm</span>(SPEAKENG_new <span class="sc">~</span> AAA  <span class="sc">+</span> ELDCH <span class="sc">+</span> YNGCH <span class="sc">+</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>                Hispanic_Population <span class="sc">+</span> Years_Education </span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>              ,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">data =</span> Cities_2019)</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ENG2019)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = SPEAKENG_new ~ AAA + ELDCH + YNGCH + Hispanic_Population + 
    Years_Education, data = Cities_2019)
Residuals:
    Min      1Q  Median      3Q     Max 
-2.7504 -0.5614 -0.0670  0.5146  3.0462 
Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          2.928088   0.127784  22.914  &lt; 2e-16 ***
AAA                  0.052016   0.003846  13.523  &lt; 2e-16 ***
ELDCH                0.015652   0.003709   4.220 2.53e-05 ***
YNGCH               -0.017050   0.003853  -4.425 1.00e-05 ***
Hispanic_Population  0.005954   0.002013   2.958  0.00313 ** 
Years_Education     -0.094606   0.005913 -16.000  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.861 on 2649 degrees of freedom
Multiple R-squared:  0.2248,    Adjusted R-squared:  0.2233 
F-statistic: 153.6 on 5 and 2649 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co">#IV 2019</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>iv2019 <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(LogWages <span class="sc">~</span>  SPEAKENG_new <span class="sc">+</span> Experience_Squared  <span class="sc">+</span> Gender<span class="sc">|</span>    Experience_Squared  <span class="sc">+</span> </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>                  Gender <span class="sc">+</span> AAA <span class="sc">+</span> Hispanic_Population <span class="sc">+</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>                  ELDCH <span class="sc">+</span> YNGCH  <span class="sc">+</span> Years_Education, <span class="at">data =</span> Cities_2019)</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(iv2019)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
ivreg(formula = LogWages ~ SPEAKENG_new + Experience_Squared + 
    Gender | Experience_Squared + Gender + AAA + Hispanic_Population + 
    ELDCH + YNGCH + Years_Education, data = Cities_2019)
Residuals:
     Min       1Q   Median       3Q      Max 
-6.19642 -0.37649  0.09258  0.51456  3.37004 
Coefficients:
                    Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)        10.956875   0.128300  85.400  &lt; 2e-16 ***
SPEAKENG_new       -0.378763   0.053393  -7.094 1.67e-12 ***
Experience_Squared  0.029789   0.008468   3.518 0.000443 ***
Gender             -0.594880   0.034157 -17.416  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
Residual standard error: 0.8681 on 2651 degrees of freedom
Multiple R-Squared: 0.05643,    Adjusted R-squared: 0.05537 
Wald test: 110.7 on 3 and 2651 DF,  p-value: &lt; 2.2e-16 </code></pre>
</div>
</div>
</section>
</section>
<section id="regression-results" class="level2">
<h2 data-anchor-id="regression-results">Regression Results</h2>


</section>
</section>
</main></div>
</div>
 <!-- /main -->
<script type="text/javascript" src="links.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Powered with GitHub and Quarto<br>© JACK KATZ, 2024</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>